/* Main styles (layout, components, animations). Uses variables defined in theme.css */

/* Base / Reset */
:root {
  box-sizing: border-box;
}
*, *::before, *::after { box-sizing: inherit; }
html, body {
  margin: 0;
  padding: 0;
  min-height: 100%;
  font-family: 'Segoe UI', system-ui, -apple-system, "Helvetica Neue", Arial;
  -webkit-font-smoothing: antialiased;
  transition: background 0.32s ease, color 0.32s ease;
}

/* Page background uses theme variables */
body {
  background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
  color: var(--text);
}

/* Container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

/* Theme toggle (top-left) */
.theme-toggle {
  position: fixed;
  top: 14px;
  left: 18px;
  background: var(--card-bg);
  border: 1px solid var(--muted-border);
  border-radius: 50%;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  transition: transform .12s ease, box-shadow .12s ease;
  z-index: 100;
  padding: 0;
  border: none;
}
.theme-toggle:hover { transform: scale(1.06); }

/* Logo */
.logo { display:flex; align-items:center; justify-content:center; gap:12px; margin-bottom:18px; }
.logo-shape { width:42px; height:42px; border-radius:var(--base-radius); background: linear-gradient(145deg, var(--red), var(--green)); transform: rotate(-10deg); box-shadow: 0 3px 8px rgba(0,0,0,.12); }
.logo-text { font-weight:700; color:var(--red); font-size:1.9rem; }
.hearts { font-size:1.5rem; margin-left:6px; }

/* Controls grid */
.controls-grid {
  display: grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr));
  gap: 12px;
  align-items: end;
  margin-bottom: 12px;
}
.control { display:flex; flex-direction:column; }
label { font-weight:700; margin-bottom:6px; font-size:.95rem; }

/* Inputs & buttons */
select, input[type="text"], button {
  height: var(--control-height);
  padding: 0 14px;
  font-size: 1.05rem;
  border-radius: var(--base-radius);
  border: 1px solid var(--muted-border);
  background: var(--card-bg);
  color: var(--text);
  transition: background .28s ease, border .18s ease, box-shadow .18s ease;
}

/* Input error visual */
.input-error {
  border-color: rgba(211,47,47,0.9) !important;
  box-shadow: 0 0 0 6px rgba(211,47,47,0.08);
}
@keyframes shakeX {
  0% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
  100% { transform: translateX(0); }
}
.shake { animation: shakeX .65s cubic-bezier(.36,.07,.19,.97); }

/* Generate button */
.generate-row { grid-column: 1 / -1; }
#generateBtn {
  width: 100%;
  border: none;
  color: #fff;
  font-weight: 800;
  cursor: pointer;
  border-radius: var(--base-radius);
  background: var(--button-gradient);
  background-size: 200% 100%;
  transition: background-position .45s ease, transform .12s ease, box-shadow .12s ease;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}
#generateBtn:hover { background-position: 100% 0; transform: translateY(-3px); }

/* Offer description */
.offer-description {
  display:none;
  margin:12px 0;
  padding:12px 14px;
  border-left: 4px solid var(--red);
  background: var(--card-bg);
  border-radius: 8px;
  color: var(--text);
  font-size: .98rem;
}
.offer-description .offer-label { font-weight:800; margin-bottom:8px; font-size:1.05rem; }
.offer-description .offer-key { font-weight:600; color:#6b6b6b; font-size:.9rem; margin-left:8px; }

/* Links header + clear button */
.links-header { display:flex; justify-content:flex-end; align-items:center; margin-top:10px; margin-bottom:6px; }
.clear-links-btn {
  display:inline-flex; align-items:center; gap:8px; background:var(--card-bg); border:1px solid var(--muted-border);
  color:var(--text); padding:6px 10px; border-radius:999px; cursor:pointer; font-weight:700; box-shadow: 0 3px 8px rgba(0,0,0,0.06);
}
.clear-links-btn .links-badge {
  display:inline-block; min-width:22px; padding:2px 8px; border-radius:999px; background:var(--badge-bg); color:#fff; font-weight:800; font-size:.9rem;
}

/* Links container and items */
#linksContainer {
  margin-top:10px;
  background: var(--link-bg);
  border: 2px solid rgba(0,178,92,0.14);
  border-radius: 10px;
  padding: 10px;
  min-height: 220px;
  max-height: 60vh;
  overflow: auto;
}

/* link-box */
.link-box {
  background: var(--card-bg);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,.06);
  display: flex; gap:12px; align-items:center; word-break:break-all;
  transition: transform .12s ease, box-shadow .12s ease, background .18s ease;
}
.link-main { flex:1; display:flex; flex-direction:column; gap:8px; }
.link-main a { color: var(--green); font-weight:700; text-decoration:none; }
.link-main a:hover { text-decoration: underline; }

/* controls */
.link-controls { display:flex; align-items:center; gap:8px; }
.actions-column { display:flex; flex-direction:column; gap:8px; align-items:stretch; }
.actions-column button {
  height: 36px; padding:6px 10px; border-radius:8px; border:1px solid var(--muted-border);
  background: var(--card-bg); cursor:pointer; font-weight:700; color:var(--text);
  transition: transform .12s ease, box-shadow .12s ease;
}

/* open / copy primary colors */
.actions-column .open { color:#fff; background: linear-gradient(90deg, var(--green), #1fb96a); border:none; }
.actions-column .copy { color:#fff; background: linear-gradient(90deg, var(--red), #ff6b6b); border:none; }

/* delete button */
.delete-btn {
  width:44px; height:80px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px;
  background:transparent; border:1px solid var(--muted-border); color:var(--text); cursor:pointer;
  transition: transform .12s ease, background .18s ease, box-shadow .12s ease;
}
.delete-btn svg { display:inline-block; vertical-align:middle; color:var(--text); }
.delete-btn:focus { outline:none; box-shadow: 0 0 0 3px rgba(255,82,82,0.12); }

/* animations for link-box */
.link-box.enter { animation: fadeSlideIn .28s cubic-bezier(.2,.9,.2,1); }
@keyframes fadeSlideIn { from { opacity:0; transform: translateY(8px);} to { opacity:1; transform: translateY(0);} }
.link-box.exit { animation: fadeSlideOut .18s cubic-bezier(.2,.9,.2,1) forwards; }
@keyframes fadeSlideOut { from { opacity:1; transform: translateX(0);} to { opacity:0; transform: translateX(-12px);} }

/* latest highlight */
.link-box.latest { border: 2px solid var(--green); background: var(--highlight-bg); animation: lastPulse .75s ease; }
@keyframes lastPulse { 0% { box-shadow: 0 0 0 0 rgba(0,178,92,0.35); transform: translateY(-4px); } 40% { box-shadow: 0 8px 20px rgba(0,178,92,0.12); transform: translateY(0); } 100% { box-shadow: 0 6px 14px rgba(0,0,0,0.06); transform: translateY(0); } }

/* focus for keyboard users */
.link-box:focus { outline: none; box-shadow: 0 0 0 3px var(--focus-ring); transform: translateY(-2px); }
#generateBtn:focus { outline: none; box-shadow: 0 0 0 4px rgba(0,123,255,0.18); }

/* responsive */
@media (max-width:820px) {
  .controls-grid { grid-template-columns: repeat(2, minmax(160px, 1fr)); }
  .delete-btn { height:64px; width:40px; }
}
@media (max-width:520px) {
  .controls-grid { grid-template-columns: 1fr; gap:10px; }
  .link-box { flex-direction: column; align-items: stretch; }
  .delete-btn { align-self: flex-end; height:44px; width:40px; }
}